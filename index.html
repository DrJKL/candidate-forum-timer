<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />

    <title>Candidate Timer</title>
    <meta name="description" content="A timer for the MVMHA candidate forum" />
    <meta name="author" content="Alex" />

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"/>
    <link rel="stylesheet" href="src/css/styles.css" />
    <link rel="stylesheet" href="src/materialize/css/materialize.css" />
    <!-- <link rel="stylesheet" href="src/mybulma/css/mystyles.css"> -->

    <script src="src/materialize/js/materialize.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>

  </head>

  <body>
    <header class="nav-wrapper">
      <h1 class="brand-logo center">
        <div>Mountain View Mobile Home Alliance</div>
        <div>City Council Candidate Forum</div>
      </h1>
    </header>

    <main class="container">
      <div class="row">
        <div v-for="candidate of allCandidates" class="col s4">
          <div class="candidate-card card blue-grey z-depth-2">
            <div class="card-content white-text">
              <div class="card-title">{{candidate.name}}</div>
              <div>
                {{candidate.getTimeLeft()}} {{candidate.isTimeUp() ? 'over' :
                'remaining'}}
              </div>
              <div class="spacer"></div>
              <div>
              <div
                class="progress"
                v-bind:class="{'time-up': candidate.isTimeUp()}"
              >
                <div
                  class="determinate"
                  v-bind:style="{width: candidate.getProgressPercent()}"
                ></div>
              </div>
            </div>
            </div>
            <div class="card-action">
              <a
                href="#"
                class="btn startstop"
                v-on:click.prevent="candidate.toggleTimer();"
                >{{candidate.isRunning() ? 'Stop': 'Start'}} Timer</a
              >
              <div class="spacer"></div>

              <a href="#" class="btn" v-on:click.prevent="candidate.addTime()">
                <i class="material-icons">add</i>
              </a>
              <a
                href="#"
                class="btn"
                v-on:click.prevent="candidate.removeTime()"
              >
                <i class="material-icons">remove</i>
              </a>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script
      type="text/javascript"
      src="src/materialize/js/materialize.min.js"
    ></script>
    <script src="src/js/candidates.ts"></script>
    <script src="src/js/vue-app.ts"></script>
  </body>
</html>
